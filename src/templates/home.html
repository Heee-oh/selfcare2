<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>토닥</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    

    <style>

@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;200;300;400;500;600;700;800;900&display=swap');

  *{
    font-family: 'Noto Sans KR', sans-serif !important;

  }
  body {
    min-height:900px;
  }
.calendar_box {
    background-color : white;
    height: auto;
    width: 400px;
    margin: 0px;
    padding: 20px;
    margin: 0 auto;
    border-radius:5px;
    box-shadow:0px 40px 30px -20px rgba(0,0,0,0.3);
}

td {
    width: 50px;
    height: 50px;
}

.Calendar {
    text-align: center;
}

.Calendar>thead>tr:first-child>td {
    font-family: 'Questrial', sans-serif;
    font-size: 1.1em;
    font-weight: bold;
}

.Calendar>thead>tr:last-child>td {
    font-family: 'Questrial', sans-serif;
    font-weight: 600;     
}

.Calendar>tbody>tr>td>p {
    font-family: 'Montserrat', sans-serif;
    height: 30px;
    width: 30px;
    border-radius: 30px;
    transition-duration: .2s;
    line-height: 30px;
    margin: 2.5px;
    display: block;
    text-align: center;
}        

.pastDay {
    background-color: #FFFFFF;
    cursor: pointer;
}

.today {
    background-color: #F5D042;            
    color: #fff;
    font-weight: 600;
    cursor: pointer;
}

.futureDay {
    color: rgb(53, 53, 53);
}
.futureDay:hover{ /* 마우스 올렸을 때 */
    background:#eee;
}

.futureDay.choiceDay,
.today.choiceDay { /* 선택된 날짜 */
    background: #0A174E;
    color: #fff;
    font-weight: 600;
    cursor: pointer;
}
  .bottom {
  height: 80px; 
  background-color: white;
  border-top: 1px solid #E7E7E7; 
}
  .top {
    height: 50px; 
    background-color: white;
    border-bottom: 1px solid #E7E7E7; 
  }
  .top a {
    text-align: center;
  }

  #date {
    margin-top: 100px; 
    margin-left: 10.16px;
    font-size: 16pt;
    font-weight: 500;
  }

.rounded-box {
    position: relative;
    width: 95%; 
    height: 200px;
    background-color: #f0f0f0; 
    border-radius: 20px; 
    margin-top: 30px;
    margin-left: auto;
    margin-right: auto;
    display: block;
}
.plus {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

#top10 {
   font-size: 16pt;
    flex-direction: row; 
    align-items: center;
    margin-left: 22.16px;
    margin-top: 20px; /* Adjust as needed */
    margin-bottom: 1px; /* Adjust as needed */
}

#top10 img {

    margin-left: 50%; /* Adjust as needed */
    right: 40%;
}

.card {
    border-color: #E7E7E7;
    border-width: 2pt;
    margin-top: 20px;
    margin-left: 20px;
    border-radius: 15px;
}




.feed_box {
    background-color: white;
    border-color: #E7E7E7 !important;
    border-width: 2pt !important;
    width: 90%;
    margin-left: 5%;
    margin-top: 15px;
    margin-bottom: 5px;
    min-height: auto;
    padding-bottom: 10px;
    border-radius: 15px;
    
}

.feed_img{
  
    width: 100%;
    object-fit: contain;
}

.feed_content{
  
    padding: 0px 10px;
}

.feed_like{
    padding: 0px 10px;
}

.feed_reply{
    padding: 0px 10px;
    display: flex;
    flex-direction: column;
}


.feed_txt{
    font-size: 14px;
}



.feed_icon{
    padding: 5px 5px 0px 5px;
    display: flex;
    justify-content: space-between;
}span{
     padding-right: 5px;
}

.feed_name{
    padding: 10px;
    display: flex;
    align-items: center;
}

.feed_name_txt{
    font-size: 14px;
    padding: 0px 10px;
    font-weight: bold;
}

.profile_box {
    width: 40px;
    height: 40px;
    border-radius: 70%;
    overflow: hidden;
}
.profile_img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.name_content{
    display: flex;
    flex-direction: column;
}

.name_content_txt{
    font-size: 12px;
    padding: 0px 10px;
    font-weight: bold;
    color: lightgray;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    width: 190px;
}

.big_profile_box {
    width: 60px;
    height: 60px;
    border-radius: 70%;
    overflow: hidden;
}

.link_txt{
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    text-decoration: none;
}

.recommend_box {
    display: flex;
    justify-content: space-between;
    padding: 5px;
    font-size: 14px;
    font-weight: bold;
    align-items: center;
}

.comment_box{
    margin: 40px 0 0 5px;
    font-size: 12px;
    font-weight: bold;
    color: lightgray;
    display: flex;
    flex-direction: column;
}

.top {

  height: 80px;
  }

  .top p {
    font-size: 20px;
    font-weight: bold;
  }

  .bottom {
  height: 100px; 

}

.bi-three-dots {
  width: 30px;
  height: 20px;
}

.tag_size {
  
  color: #00A8BA;
  font-size: 15px;
  margin-left: 5px;
}

.tag{
  
  font-size: 12pt;
  color: #00A8BA;
}

.card-text {
  font-size: 12pt;
}
.modal-body {
  display: flex;
  justify-content: center;
}
.modal-footer {
  display: initial;
}
</style>
</head>
<body>
  
  <nav class="navbar fixed-top top">
    <div class="container-fluid">
      <img src="../static/icon/홈로고.png" class="navbar-brand" onclick="window.location.reload()" style="width: 28px; height: auto;" ></a>


      <div class="ms-auto"> 
        <a class="navbar-brand" href="#">
          <img src="../static/icon/알람.png">
        </a>
        <a class="navbar-brand" href="#">
          <img src="../static/icon/설정.png">
        </a>
      </div>

    </div>
    

  
  </nav>

  <div class="container-fluid">

    <p id="date">
      <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:100px;"> 
        <path fill-rule="evenodd" clip-rule="evenodd" d="M5.83274 0.351148L9.25879 3.9674C9.28962 3.99992 9.31023 4.04076 9.31809 4.08488C9.32595 4.12899 9.3207 4.17444 9.303 4.21561C9.28529 4.25677 9.25591 4.29184 9.21848 4.31648C9.18105 4.34112 9.13722 4.35424 9.09241 4.35423H1.90758C1.86277 4.35424 1.81894 4.34112 1.78151 4.31648C1.74408 4.29184 1.71469 4.25677 1.69699 4.21561C1.67929 4.17444 1.67404 4.12899 1.6819 4.08488C1.68975 4.04076 1.71037 3.99992 1.7412 3.9674L5.16724 0.351148C5.21007 0.305933 5.26167 0.269921 5.31888 0.245311C5.37609 0.2207 5.43772 0.208008 5.49999 0.208008C5.56227 0.208008 5.6239 0.2207 5.68111 0.245311C5.73832 0.269921 5.78992 0.305933 5.83274 0.351148ZM5.83274 10.649L9.25879 7.03273C9.28962 7.00021 9.31023 6.95937 9.31809 6.91525C9.32595 6.87114 9.3207 6.82569 9.303 6.78452C9.28529 6.74336 9.25591 6.70829 9.21848 6.68365C9.18105 6.65901 9.13722 6.64588 9.09241 6.6459H1.90758C1.86277 6.64588 1.81894 6.65901 1.78151 6.68365C1.74408 6.70829 1.71469 6.74336 1.69699 6.78452C1.67929 6.82569 1.67404 6.87114 1.6819 6.91525C1.68975 6.95937 1.71037 7.00021 1.7412 7.03273L5.16724 10.649C5.21007 10.6942 5.26167 10.7302 5.31888 10.7548C5.37609 10.7794 5.43772 10.7921 5.49999 10.7921C5.56227 10.7921 5.6239 10.7794 5.68111 10.7548C5.73832 10.7302 5.78992 10.6942 5.83274 10.649Z" fill="black"/>
        </svg> 
    <p>
  </div>

<!-- 캘린더 띄울 자리-->  
  <div class="modal fade" id="calendarModal" tabindex="-1" role="dialog" aria-labelledby="calendarModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="calendarModalLabel">기록 날짜 선택</h5>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16" id="back">
            <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"/>
            <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
          </svg>
        </div>
        <div class="modal-body">
          <table class="Calendar" id="recordContainer">
            <thead>
                <tr>
                    <td onClick="prevCalendar();" style="cursor:pointer;">&#60;</td>
                    <td colspan="5">
                        <span id="calYear"></span>년
                        <span id="calMonth"></span>월
                    </td>
                    <td onClick="nextCalendar();" style="cursor:pointer;">&#62;</td>
                </tr>
                <tr>
                    <td>일</td>
                    <td>월</td>
                    <td>화</td>
                    <td>수</td>
                    <td>목</td>
                    <td>금</td>
                    <td>토</td>
                </tr>
            </thead>

            <tbody>
            </tbody>
        </table>
        </div>
        <div class="modal-footer" id="record_content">
            
        </div>
      </div>
    </div>
  </div>

  {% if record is not none %}
  <div class="border feed_box" id="{{ record.mr_id }}">
    <div class="feed_name d-flex justify-content-between">
      <h6 class="tag_size">
        {% for situation in record.situation.split(',') %}
        #{{ situation.strip() }}
        {% endfor %}
        {% for keyword in record.keyword.split(',') %}
          #{{ keyword.strip() }}
        {% endfor %}
      </h6>
  
      <div class="dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
        </svg>
  
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item" id="update-post">수정</a>
          <a class="dropdown-item" id="delete-post">삭제</a>
        </div>
      </div>
    </div>
    <div class="feed_content mt-3 d-flex">
      {% if record.image %}
      <img class="feed_img" src="../{{ record.image }}" style="width: 100px; height: auto;">
      {% endif %}
      <div>
        <p class="feed_txt" style="margin-left: 5px;">{{ record.content }}</p>
        <p class="feed_txt" style="margin-left: 5px;">{{ record.happy }}</p>
      </div>
    </div>
  </div>
{% else %}
<div class="container-fluid" onclick="record_move()" id="today_log">
  <div class="rounded-box">
      <img src="../static/icon/글쓰기.png" class="plus" >
  </div>
</div>

{% endif %}

<div style="height:50px;"></div>
<div class="row mx-1">
  <div class="col-sm-3 mb-2">
      <a href='/survey' class="btn btn-secondary btn-block">설문조사(번아웃 증후군)</a>
  </div>
  <div class="col-sm-3 mb-2">
      <a href='/survey_stress' class="btn btn-secondary btn-block">설문조사(외상 후 스트레스)</a>
  </div>
  <div class="col-sm-3 mb-2">
      <a href='/survey_relation' class="btn btn-secondary btn-block">설문조사(관계중독)</a>
  </div>
  <div class="col-sm-3 mb-2">
      <a href='/survey_panic' class="btn btn-secondary btn-block">설문조사(공황장애)</a>
  </div>
</div>
<a href='/survey_menu' class="btn btn-secondary btn-block">설문조사메뉴</a>

<div id="top10">오늘 많이 공감받은 기록

</div> 


  <!-- If we need pagination -->
  <div class="swiper-pagination"></div>
  
  <!-- If we need scrollbar -->

</div>



  <div class="swiper mySwiper">
    <div class="swiper-wrapper" >
        
      {% for record_top in like_records %}
      
      <div class="swiper-slide" id="{{record_top.mr_id }}">
        <div class="card" style="width: 25rem; max-width: 25rem; max-height: 50rem; overflow: auto;" id="{{ record_top.mr_id }}">
          <div class="card-body">
            <h6 class="card-subtitle mb-2 tag">
              {% for situation in record_top.situation.split(',') %}
              #{{ situation.strip() }}
              {% endfor %}

            </h6>
            <p class="card-text" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis;">{{ record_top.content }}</p>
            <div style="height: 20px;">

            </div>
            <button class="btn btn-bg-success mt-1" id="{{ record_top.mr_id }}" >기록 더 자세히 보기 <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.39074 12.5625C5.17512 12.5625 4.95949 12.4781 4.79074 12.3188C4.63331 12.1606 4.54492 11.9466 4.54492 11.7235C4.54492 11.5003 4.63331 11.2863 4.79074 11.1281L8.41887 7.50002L4.79074 3.88127C4.63331 3.72315 4.54492 3.5091 4.54492 3.28596C4.54492 3.06282 4.63331 2.84877 4.79074 2.69065C4.94887 2.53321 5.16292 2.44482 5.38606 2.44482C5.60919 2.44482 5.82324 2.53321 5.98137 2.69065L10.2001 6.9094C10.3576 7.06752 10.4459 7.28157 10.4459 7.50471C10.4459 7.72785 10.3576 7.9419 10.2001 8.10002L5.98137 12.3188C5.82199 12.4781 5.60637 12.5625 5.39074 12.5625Z" fill="#1E1E1E" fill-opacity="0.5"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
    <div style="margin-top: 40px;"></div>
    <div class="swiper-pagination"></div>
  </div>
  

  


  <nav class="navbar fixed-bottom bottom">
    <div class="container-fluid">
      
      <a class="navbar-brand mx-3" href="/test1">
        <img src="../static/icon/기록1.png">
        
    </a>
    <a class="navbar-brand" href="/community">
      <img src="../static/icon/커뮤니티.png">

    </a>
    <a class="navbar-brand" href="/selfcare">
      <img src="../static/icon/도움닫기.png">
    </a>
    <a class="navbar-brand" href="/" style="margin-right: 25px;">
      <img src="../static/icon/마이.png">
    </a>
      
    </div>

  </nav>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>

</script>
<script src="../static/home.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>

</html>